<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>岩手県警察 サイバー犯罪対策体験</title>
    <link rel="icon" href="/photos/cs.jpg" type="image/png">
    <link rel="stylesheet" href="/css/Experience.css">
    <link rel="stylesheet" href="/css/searchStyle.css"> 
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <header class="header">
        <div class ="header-logo">
            <img src="/photos/Wow.png" alt="注意喚起" class="header-logo">
        </div>
    </header>

    <div class="kv">
        <div class="kframe">
            <img src="/photos/smartphone.PNG" alt="スマホ画面" class="kframe-img">
            <div class="kframeinner">
            <div class="search-screen">
                <header class="search-header">
                    <img src="/photos/searchnow.png" alt=" searchnow" class="search-logo">
                </header>

                <div class="popup-overlay" id="welcome-popup">
                    <div class="popup-content">
                        <p>配達.comというサイトを検索してみよう</p>
                    </div>
                </div>
                
                <div class="search-bar-container">
                    <i class="material-icons search-icon" id="search-button">search</i>
                    <input type="text" class="search-input" id="search-input" placeholder="検索または URL を入力">
                    <i class="material-icons mic-icon" >mic</i>
                </div>
            
                <main class="search-content" id="search-content-area">
                    <div class="content-title">Discover</div>
                    
                    <div class="discover-item">
                        <div class="discover-text">
                            <h3>サイバー犯罪の最新動向</h3>
                            <p>岩手県警、新たな手口に注意喚起 - iwate-np.co.jp</p>
                        </div>
                        <img src="https://placehold.co/100x75/e0e0e0/757575?text=記事" alt="記事のサムネイル" class="discover-thumbnail">
                    </div>
                    
                    <div class="discover-item">
                        <div class="discover-text">
                            <h3>フィッシング詐欺の見分け方</h3>
                            <p>警察庁が公開したチェックリスト - npa.go.jp</p>
                        </div>
                        <img src="https://placehold.co/100x75/e0e0e0/757575?text=記事" alt="記事のサムネイル" class="discover-thumbnail">
                    </div>
            
                    <div class="discover-item">
                        <div class="discover-text">
                            <h3>安全なパスワード管理術</h3>
                            <p>専門家が推奨する３つの方法 - cyber-security.com</p>
                        </div>
                        <img src="https://placehold.co/100x75/e0e0e0/757575?text=記事" alt="記事のサムネイル" class="discover-thumbnail">
                    </div>
                </main>
            
                <footer class="search-footer">
                    <div class="footer-tab active">
                        <i class="material-icons">search</i>
                        <span>検索</span>
                    </div>
                    <div class="footer-tab">
                        <i class="material-icons">article</i>
                        <span>Discover</span>
                    </div>
                    <div class="footer-tab">
                        <i class="material-icons">collections</i>
                        <span>検索コレクション</span>
                    </div>
                    <div class="footer-tab">
                        <i class="material-icons">more_horiz</i>
                        <span>その他</span>
                    </div>
                </footer>
            </div>
            </div>
        </div>    
    </div>
<script>
document.addEventListener('DOMContentLoaded', () => {

    const searchInput = document.getElementById('search-input');
    const searchButton = document.getElementById('search-button');

    // 検索を実行する関数
    const performSearch = () => {
        const query = searchInput.value.trim();
        const encodedQuery = encodeURIComponent(query); // 日本語や記号をURLで送れる形式に変換

        if (query) {
            // ★修正点:
            // どんな単語が入力されても、常に /searchResults に
            // クエリパラメータ(?q=...)を付けて移動します。
            window.location.href = `/cybersimulator/app/searchResults?q=${encodedQuery}`;
        } else {
            // (任意) 何も入力されなかった場合の処理
            console.log('検索語が入力されていません。');
        }
    };

    // 検索ボタン(searchButton)がクリックされたら、performSearch関数を実行
    searchButton.addEventListener('click', performSearch);

    // Enterキーが押されたときも検索を実行
    searchInput.addEventListener('keypress', (event) => {
        if (event.key === 'Enter') {
            performSearch();
        }
    });
            // 1. ポップアップの要素を取得
            const popup = document.getElementById('welcome-popup');

            // 2. ポップアップ（popup）がクリックされた時に実行
            popup.addEventListener('click', () => {
                
                // 3. CSSで定義した 'hide' クラスを追加 (フェードアウト開始)
                popup.classList.add('hide');

                // 4. アニメーションが終わる0.5秒後 (CSSの transition と合わせる) に
                //    要素を完全に非表示にして、下のアイコンをクリックできるようにする
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 500); // 500ミリ秒 = 0.5秒
            });
});
</script>
    </body>
</html>